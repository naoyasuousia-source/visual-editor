### 目的
**外部AI向けのコマンドロジックの大改造を行う**
### 要件
- **コマンドの刷新**
コマンドは以下だけに限定する。
***REPLACE_PARAGRAPH***
（ターゲット：各段落に振られたid（例：p2-1））
（オプション：太字タグ、brタグ挿入上付き下付き文字タグは指定可能：挿入テキスト内に直書きさせる）
（オプション：ブロック要素4択、文字揃え3択、段落下余白4択、インデント0～4→引数とする）
- 既存テキストの修正はすべてこれで行う。
- 自動修正後、置き換えられた段落全体を色付けハイライトし、ホバーすると、ポップアップで、変更前と変更後の比較を見ることができ、承諾or破棄を選べる。

***INSERT_PARAGRAPH***
（ターゲット：既存段落のid（例：p2-1））
（オプション：太字タグ、brタグ挿入上付き下付き文字タグは指定可能：挿入テキスト内に直書きさせる）
（オプション：ブロック要素4択、文字揃え3択、段落下余白4択、インデント0～4→引数とする）
- targetの段落の直後に挿入。
- AI側で仮idを発行する。（連続挿入可能にするため）
- 自動修正後、挿入された段落全体を色付けハイライトし、ホバーで承諾or破棄を選べる。

***DELETE_PARAGRAPH***
（ターゲット：各段落に振られたid（例：p2-1））
- targetの段落を削除。
- 自動修正後、削除された段落位置を色付けハイライトし、ホバーで削除段落の内容を見ることができ、承諾or破棄を選べる。

***MOVE_PARAGRAPH***
（ターゲット：移動段落のid、移動先のid）
- targetの段落を移動先のidの直後に移動。
- 自動修正後、移動先で色付けハイライトし、ホバーで承諾or破棄を選べる。

***SPLIT_PARAGRAPH***
（ターゲット：分割したい段落のid、分割位置（テキスト引用で分割位置直前の文字列と分割位置直後の文字列を指定））
- targetの段落を分割位置で分割し、新段落に仮idを振る。
- 自動修正後、分割された段落を色付けハイライトし、ホバーで承諾or破棄を選べる。

***MERGE_PARAGRAPH***
（ターゲット：結合したい段落のid、結合先のid）
- 結合したい段落を結合先のidの直後に結合。
- 自動修正後、結合先で色付けハイライトし、ホバーで承諾or破棄を選べる。

- **承認or破棄ロジックの刷新**
現在は、自動修正後、全体の承認or破棄のみを選択できるが、上で記述したように、部分的に承認or破棄を選択できるようにする。（全体の承認、破棄も引き続き行えるようにし、全体承認、破棄が選択されたら、部分選択されていない段落が残っていても、自動保存後、自動編集フローは終了とする）